<%= render "shared/model_validation_errors", model: travel_plan %>
<div class="panel-body">
  <%= form_for travel_plan.form_object, html: { class: "row" } do |f| %>

    <div class="form-inline col-xs-12 form-group">
      <% travel_plan.class.types.each do |type, _| %>
        <div class="form-group">
          <label>
            <%= t("activerecord.attributes.travel_plan.types.#{type}") %>
            &nbsp;
            <%= f.radio_button(
              :type,
              type,
              checked: type == f.object.type
            ) %>
          </label>
        </div>
      <% end %>
    </div>

    <div class="form-group col-xs-12 col-md-6">
      <%= f.label :from %>
      <%= f.collection_select(
        :from_id,
        @countries,
        :id,
        :name,
        prompt: "Select a country of origin"
      ) %>
    </div>

    <div class="form-group col-xs-12 col-md-6">
      <%= f.label :to %>
      <%= f.collection_select(
        :to_id,
        @countries,
        :id,
        :name,
        prompt: "Select a destination country"
      ) %>
    </div>

    <div class="form-group col-xs-12 col-md-6">
      <%= f.label        :no_of_passengers, "# of passengers" %>
      <%= f.number_field :no_of_passengers,
                            min: 1, max: TravelPlan::MAX_FLIGHTS %>
    </div>

    <div class="form-group col-xs-12 col-md-6">
      <%= f.label :earliest_departure, "Departure date" %>
      <%= f.text_field :earliest_departure, value: f.object.earliest_departure_str %>
      <% if travel_plan.show_earliest_departure_help_block? %>
        <p class="help-block small">
          If you donâ€™t yet know exactly when you want to fly, please input the
          <i>earliest</i> possible date which it might be.
        </p>
      <% end %>
    </div>

    <div class="col-xs-12 col-md-6">
      <label>What class(es) of service would <%= travel_plan.owner_name %> consider for this trip?</label>

      <div class="form-inline">
        <div class="radio">
          <%= f.label :will_accept_economy do %>
            <%= f.check_box :will_accept_economy %>
            &nbsp;Economy&nbsp;
          <% end %>
        </div>

        <div class="radio">
          <%= f.label :will_accept_premium_economy do %>
            <%= f.check_box :will_accept_premium_economy %>
            &nbsp;Premium Economy&nbsp;
          <% end %>
        </div>

        <div class="radio">
          <%= f.label :will_accept_business_class do %>
            <%= f.check_box :will_accept_business_class %>
            &nbsp;Business Class&nbsp;
          <% end %>
        </div>

        <div class="radio">
          <%= f.label :will_accept_first_class do %>
            <%= f.check_box :will_accept_first_class %>
            &nbsp;First Class&nbsp;
          <% end %>
        </div>
      </div>
    </div>

    <div class="col-xs-12 col-md-6">
      <div class="form-group">
        <%= f.text_area(
          :further_information,
          placeholder: "Optional: give us any extra information about #{travel_plan.owner_name(true)} travel plans that you think might be relevant"
        ) %>
        <span id="travel_plan_further_information_counter"></span>
      </div>
    </div>

    <div class="col-xs-12">
      <%= f.submit "Save", class: "btn-primary" %>
      <% if travel_plan.show_skip_survey? && !current_account.onboarded_travel_plans? %>
          <%= link_to_skip_survey %>
      <% end %>
    </div>
  <% end %>
</div><!-- .panel-body -->
