<% provide :title, "Users" %>

<h1>Users</h1>

<div>
  <input
    id="admin_accounts_table_filter"
    type="text"
    class="form-control"
    placeholder="Filter"
    />
  <table id="admin_accounts_table" class="accounts table table-striped">
    <thead>
      <tr>
        <th class="sortable-column-header" >
          Name
          &nbsp;
          <!-- <i class={class} style={style} > </i> -->
        </th>
        <th class="sortable-column-header" >
          Email
          &nbsp;
          <!-- <i class={class} style={style} > </i> -->
        </th>
        <th class="sortable-column-header" >
          Signed up
          &nbsp;
          <!-- <i class={class} style={style} > </i> -->
        </th>
        <th>Companion name</th>
        <th colspan="2"></th>
      </tr>
    </thead>
    <tbody id="admin_accounts_table_body">
      <% @accounts.each do |account| %>
        <tr
          id="<%= dom_id(account) %>"
          class="<%= dom_class(account) %>"
          data-full-name="<%= account.main_passenger_full_name %>"
          data-email="<%= account.email %>"
        >
          <td><%= account.main_passenger_full_name %></td>
          <td><%= account.email %></td>
          <td><%= account.created_at.strftime("%c") %></td>
          <td><%= account.companion_full_name %></td>
          <td><%= link_to "Info", admin_account_path(account) %></td>
          <td>
            <% if account.onboarded? %>
              <%=
                link_to(
                    "Recommend Card",
                    new_admin_account_card_recommendation_path(account)
                )
              %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New User', new_admin_account_path %>
